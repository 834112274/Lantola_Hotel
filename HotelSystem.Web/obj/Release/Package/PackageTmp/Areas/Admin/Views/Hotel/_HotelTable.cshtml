@model PagedList<HotelSystem.Model.HotelInfo>
@using Webdiyer.WebControls.Mvc
@{
    Layout = null;
}

<table class="table table-striped table-bordered bootstrap-datatable datatable">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Type)
        </th>
        
        <th>
            @Html.DisplayNameFor(model => model.Tel)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Star)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Contact)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Phone)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Apply)
        </th>
      
        <th>
            @Html.DisplayNameFor(model => model.City.CityName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Adress)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ExamineTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ExamineStatus)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @(item.Type == 0 ? "酒店" : "企业")
            </td>
           
            <td>
                @Html.DisplayFor(modelItem => item.Tel)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Star)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Contact)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Phone)
            </td>
            <td>
                @item.Apply.ToString("yyyy-MM-dd")
            </td>
            
            <td>
                @Html.DisplayFor(modelItem => item.City.CityName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Adress)
            </td>
            <td>
                @(item.ExamineTime == null?"":DateTime.Parse(item.ExamineTime.ToString()).ToString("yyyy-MM-dd"))
            </td>
            <td>
                <span class="label @(item.ExamineStatus == 0 ? "label-default" : item.ExamineStatus == 1 ? "label-success" : "label-danger")">@(item.ExamineStatus == 0 ? "未审核" : item.ExamineStatus == 1 ? "通过" : "未通过")</span>
            </td>
            <td>
                @{
                    if (item.ExamineStatus == 0)
                    {
                        @Html.ActionLink("审核", "ExamineDetails", new { id = item.Id }, new { target = "_blank" })
                    }
                    else
                    {
                        @Html.ActionLink("详情", "ExamineDetails", new { id = item.Id }, new { target = "_blank" })
                    }
                }
                
            </td>
        </tr>
    }
</table>

