@model PagedList<HotelSystem.Model.Policy>
@using Webdiyer.WebControls.Mvc
@{
    ViewBag.Title = "酒店设施及政策选项配置";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<link href='~/Scripts/ico/ico.css' rel='stylesheet' type='text/css' />
<style>
    .ico-container {
        overflow: hidden;
    }

        .ico-container ul {
            list-style: none;
            display: table;
        }

            .ico-container ul li {
                float: left;
                width: 10%;
                margin: 4px 5px;
                padding: 4px;
                height:40px;
                display: table-cell;
                vertical-align: middle;
                 border-radius:4px;
            }

                .ico-container ul li:hover {
                    border: 1px solid #ccc;
                   
                }

                .ico-container ul li span, .ico-container ul li i {
                    display: table-cell;
                    vertical-align: middle;
                }

                .ico-container ul li span {
                    padding-left: 14px;
                }
</style>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2><i class="fa fa-table red"></i><span class="break"></span><strong>酒店设施及政策选项配置</strong></h2>
            </div>
            <div class="panel-body">
                <p class="text-danger text-center">@ViewBag.Message</p>
                @using (Html.BeginForm("Policy", ViewContext.RouteData.GetRequiredString("controller"), new { id = "" }, FormMethod.Post, new { id = "PolicySearch" }))
                {
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="input-group">
                                <input type="text" class="form-control" name="key" placeholder="酒店名、地址">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="submit">搜索(S)</button>
                                </span>
                            </div><!-- /input-group -->
                        </div><!-- /.col-lg-6 -->
                    </div><!-- /.row -->
                }
                <br />
                <div class="ico-container">
                    <ul>

                        @{
                            if (ViewBag.Ico != null)
                            {
                                var item = ViewBag.Ico.frames;
                                foreach (var t in item)
                                {
                                    <li>
                                        <i class="sprite @t.filename.ToString().Remove(t.filename.ToString().LastIndexOf("."))"></i><span>@t.filename.ToString()</span>
                                    </li>

                                }
                            }
                        }
                    </ul>
                </div>
                <button class="btn btn-primary" data-toggle="modal" data-target="#addPolicy">添加</button>
                @using (Html.BeginForm("AddPolicy", ViewContext.RouteData.GetRequiredString("controller"), FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <div class="modal fade" id="addPolicy" tabindex="-1" role="dialog" aria-labelledby="addPolicy">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">设施政策</h4>
                                </div>
                                <div class="modal-body">

                                    <div class="form-horizontal">
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label"><font color="red">*</font> @Html.DisplayNameFor(model => model.Name)</label>
                                            <div class="col-sm-8 input-group">
                                                <input name="Name" type="text" class="form-control" placeholder="必填" value="" required>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label"><font color="red">*</font> @Html.DisplayNameFor(model => model.Type)</label>
                                            <div class="col-sm-8 input-group">
                                                <select class="form-control" name="Type">
                                                    <option value="0" selected>通用项目</option>
                                                    <option value="1">服务项目</option>
                                                    <option value="2">客服设施</option>
                                                    <option value="3">酒店政策</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label"><font color="red"></font> @Html.DisplayNameFor(model => model.Values)</label>
                                            <div class="col-sm-8 input-group">
                                                <input name="Values" type="text" class="form-control" placeholder="" value="">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label"><font color="red">*</font> @Html.DisplayNameFor(model => model.Icon)</label>
                                            <div class="col-sm-8 input-group">
                                                <input name="Icon" type="file" value="" accept=".jpg,.png">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                    <button type="submit" class="btn btn-primary">添加</button>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                <br />
                <div id="PolicyList">
                    @Html.Partial("_PolicyList", Model);
                </div>
            </div>
        </div>
    </div><!--/col-->
</div>

@{Html.RegisterMvcPagerScriptResource();}